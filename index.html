<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <form id="form1">
        <input type="text" id="id">
        <button type="submit">Submit</button>
    </form>
    <button onclick="add1()">Add</button>
</body>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-functions.js"></script>


<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-analytics.js"></script>

<script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyBK3v3Cgy1hXKhNZphcFbjzC-WL39VC-RI",
        authDomain: "retrievedata-1cec4.firebaseapp.com",
        databaseURL: "https://retrievedata-1cec4.firebaseio.com",
        projectId: "retrievedata-1cec4",
        storageBucket: "retrievedata-1cec4.appspot.com",
        messagingSenderId: "1043977381711",
        appId: "1:1043977381711:web:e3de63a43f2b232eff873a",
        measurementId: "G-4GFXJNY1V8"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    firebase.functions().useFunctionsEmulator('http://localhost:5001');
    document.getElementById('form1').addEventListener('submit',retrieve);
    function retrieve(e){
        e.preventDefault();
        var id=document.getElementById('id').value;
        let retrieve1 = firebase.functions().httpsCallable('retrieve');
        // retrieve1({id:id});
        let allPromises = Promise.all([
            // add({a:12,b:5})
            retrieve1({id:id})

        ]).then((e)=>{
            console.log(e);
        })

        console.log('fn');
    }
    function add1(){
        let add=firebase.functions().httpsCallable('add');
        let allPromises = Promise.all([
            add({a:12,b:5})
        ]).then((e)=>{
            console.log(e);
        })
    }
</script>

</html>